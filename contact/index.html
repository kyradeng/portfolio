<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <!-- The navigation menu will be dynamically generated by JavaScript -->
    <h1>Contact</h1>

    <form action="mailto:kkdeng@ucsd.edu" method="POST" enctype="text/plain">
        <div>
            <label for="email">Your Email Address:</label>
            <input type="email" name="email" id="email" required>
        </div>

        <div>
            <label for="subject">Subject:</label>
            <input type="text" name="subject" id="subject" required>
        </div>

        <div>
            <label for="body">Message:</label>
            <textarea name="body" id="body" rows="4" cols="50" required></textarea>
        </div>

        <div>
            <button>Send Message</button>
        </div>
    </form>

    <script>
        // Step 3.1: Define pages
        const pages = [
            { url: '', title: 'Home' },
            { url: 'projects/', title: 'Projects' },
            { url: 'contact/', title: 'Contact' },
            { url: 'resume/', title: 'Resume' },
            { url: 'https://github.com/kyradeng', title: 'GitHub' },
        ];

        // Step 3.2: Check if we're on the home page
        const ARE_WE_HOME = document.documentElement.classList.contains('home');

        // Step 3.3: Create the navigation menu dynamically
        let nav = document.createElement('nav');
        document.body.prepend(nav);  // Add nav at the beginning of the body

        // Step 3.4: Iterate through pages and create links
        for (let p of pages) {
            let url = p.url;
            let title = p.title;

            // Step 3.5: Adjust the URL if we're not on the home page
            url = !ARE_WE_HOME && !url.startsWith('http') ? '../' + url : url;

            // Step 3.6: Create the link element
            let a = document.createElement('a');
            a.href = url;
            a.textContent = title;

            // Step 3.7: Add current class to the current page link
            a.classList.toggle('current', a.host === location.host && a.pathname === location.pathname);

            // Step 3.8: Open external links (e.g., GitHub) in a new tab
            if (a.host !== location.host) {
                a.target = '_blank';  // Open external links in a new tab
            }

            // Step 3.9: Append the link to the navigation
            nav.append(a);
        }
    </script>

</body>
</html>